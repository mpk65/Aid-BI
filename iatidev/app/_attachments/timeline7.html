<html>
<head>
<title>Aid Activities</title>

<script src="http://api.simile-widgets.org/exhibit/2.2.0/exhibit-api.js" type="text/javascript"></script>
<script src="http://api.simile-widgets.org/exhibit/2.2.0/extensions/time/time-extension.js" type="text/javascript"></script>
<script src="http://api.simile-widgets.org/exhibit/2.2.0/extensions/chart/chart-extension.js"></script>

<link rel="exhibit/data" href="./_list/json4exhibit2/commitments?group_level=7" type="application/json" />
<link rel="shortcut icon" href="http://iatiregistry.org//images/favicon.ico">
<link rel="stylesheet" href="http://iatiregistry.org/css/iati.css" type="text/css" media="screen, print">
<link rel="stylesheet" href="http://iatiregistry.org/fonts/fonts.css" type="text/css" media="screen, print">
           
   <style>
       body {
           margin: 1in;
       }
       table.activities {
           border:     1px solid #ddd;
           padding:    0.5em;
       }
       div.name {
           font-weight: bold;
           font-size:   120%;
       }
       .country {
       }
       .year {
           font-style:  italic;
       }
       .donor {
           color:  #888;
       }
       .endyear {
       }
   </style>
</head> 
<body>

<!--  adding the following to exhibit-view: ex:configuration="timelineConfig" -->
<!--  to enable custom scales in timeline -->
<script>
   var timelineConfig = {
       timelineConstructor: function (div, eventSource) {

           var bandInfos = [
               Timeline.createBandInfo({
                   width:          "200",
                   intervalUnit: Timeline.DateTime.DECADE,
                   intervalPixels: 400,
                   eventSource:    eventSource,
               }),
               Timeline.createBandInfo({
                   width:          "30",
                   intervalUnit: Timeline.DateTime.DECADE,
                   intervalPixels: 100,
                   eventSource:    eventSource,
                   overview:       true,
               })
           ];
           bandInfos[1].syncWith = 0;
           bandInfos[1].highlight = true;
            tl = Timeline.create(div, bandInfos, Timeline.HORIZONTAL);
            return tl;
        }
    }   
</script>


   <table width="100%">
       <tr valign="top">
           <td ex:role="viewPanel">
               <table ex:role="lens" class="activities">
                   <tr>
                       <td><img ex:src-content="concat('http://simile.mit.edu/repository/exhibit/branches/2.0/src/webapp/site/examples/flags/images/', .code, '.png')" /></td>
                       <td>
                           <div ex:content=".label" class="name"></div>
                           <div>
                               Recipient Country:<span ex:content=".country" class="country"></span> 
                           </div>
                           <div ex:if-exists=".startyear" class="year">Startyear: 
                               <span ex:content=".startyear" class="year"></span>
                           <div ex:if-exists=".endyear" class="year">Endyear: 
                               <span ex:content=".endyear"></span>
                           </div>
                           Donor: <div ex:content=".donor" class="donor"></div>
                           Transaction: <div ex:content=".ttcode" class="donor"></div>
                           Amount: <div ex:content=".amount" class="donor"></div>
                       </td>
                   </tr>
               </table>
               <div ex:role="exhibit-view"
                   ex:viewClass="Exhibit.TabularView"
                   ex:columns=".label, concat('http://simile.mit.edu/repository/exhibit/branches/2.0/src/webapp/site/examples/flags/images/', .code, '.png'), .country, .donor, .startyear, .endyear,.ttcode,.amount"
                   ex:columnLabels="activity, country, country, donor, startyear, endyear,transaction,amount"
                   ex:columnFormats="list, image, list, list, list, list,list,list"
                   ex:sortColumn="3"
                   ex:border="0"
                   ex:sortAscending="false">
               </div>
     <div ex:role="view" 
          ex:viewClass="Timeline" 
          ex:start=".startyear"
          ex:end=".endyear"
          ex:colorKey=".country">

        </div>
        
	<div ex:role="view"
   		 ex:viewClass="Exhibit.BarChartView"
   		 ex:itemTypes="activities"
   		 ex:label="barchart"
   		 ex:x="count(.code)"
   		 ex:xLabel="Count"
   		 ex:y=".code"
   		 ex:yLabel="Country code">
	</div>
        
        
               <div ex:role="view"
                   ex:orders=".country, .donor"
                   ex:possibleOrders=".label, .country, .donor, .startyear, .endyear,.ttcode">
               </div>
            </td>
           <td width="25%">
               <div ex:role="facet" ex:facetClass="TextSearch"></div>
               <div ex:role="facet" ex:expression=".country" ex:facetLabel="Country"></div>
               <div ex:role="facet" ex:expression=".donor" ex:facetLabel="Donor"></div>
               <div ex:role="facet" ex:expression=".ttcode" ex:facetLabel="Transaction type"></div>
               <div ex:role="facet" ex:expression=".startyear" ex:facetLabel="Start"></div>
               <div ex:role="facet" ex:expression=".endyear" ex:facetLabel="End"></div>
           </td>
       </tr>
   </table>
</body>
</html>